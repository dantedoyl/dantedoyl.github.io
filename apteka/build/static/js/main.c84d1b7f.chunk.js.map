{"version":3,"sources":["components/header/header.jsx","components/item-row/item-row.jsx","components/firebase/firebase.jsx","pages/products/products.jsx","pages/signin/signin.jsx","pages/convertor/convertor.jsx","App.jsx","serviceWorker.js","index.js"],"names":["Header","props","state","isLogged","this","position","class","to","onClick","UnLoggedIn","src","alt","srcset","_renderLoader","React","Component","ItemRow","k","d","type","value","id","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","GetTodaysRate","funcOK","ref","once","then","snapshot","val","Plan","UpdateRates","data","update","Left","Date","getDate","getMonth","Math","ceil","getFullYear","Todays","UpdateDate","toLocaleTimeString","error","alert","GetCurrentAmount","current","need","UpdateNewMonth","key","UpdateNewData","Object","keys","map","left","doLogIn","login","password","funcNOT","Password","fire","Item","undefined","a","setState","onSubmit","event","new_data","document","getElementById","preventDefault","toLocaleDateString","сlass","INITIAL_STATE","username","user_password","SignIn","setError","isError","style","boxShadow","errorMsg","onChange","target","name","LoggedIn","IsError","IsLogged","placeholder","pattern","Convertor","getDay","checked","first","toFixed","second","third","clic","final","className","for","App","console","log","basename","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c84d1b7f.chunk.js","sourcesContent":["import React from 'react';\nimport './header.css'\nimport {\n    Link\n} from \"react-router-dom\";\n\nexport class Header extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={isLogged: false}\n    }\n\n    componentDidMount(){\n       \n    }\n\n    _renderLoader() {\n        if (!this.props.position.isLogged) {\n            return (\n            null\n            )\n        }\n        return (\n            <div class=\"header_buttons\">\n            <Link to='/kass'><button class = \"def_button\">Кассы</button> </Link>\n            <Link to='/item'><button class = \"def_button\">Товар</button> </Link>\n            <Link to='/'><button class = \"def_button\" onClick={this.props.UnLoggedIn}>Выход </button> </Link>\n            </div>\n        );\n    }\n\n    render (){\n    return (\n        <div class=\"header_items\">\n            <div class=\"logo\">\n            <Link to='/' ><img class = \"header_logo\" src=\"/apteka/build/logo_apt.png\" alt=\"\" srcset=\"\"/></Link>\n            </div>\n            {this._renderLoader()}\n        </div>\n    );\n}}\n","import React from 'react';\nimport './item-row.css'\n\n\n\n\nexport const ItemRow = ({k , d}) => {\n    return (\n        <div class=\"row\">\n           <div class = \"main_text_bubble\"> {k} </div>\n           <span class = \"input_block\">\n           <div class = \"text_bubble\">\n               <span>План</span>\n               <span>Итог</span>\n            </div>\n               \n            <input type=\"text\" class=\"bubble\" value ={d}/>\n            <input type=\"text\" id = {k} class=\"bubble\"/>\n        </span>\n        </div>\n        \n    );\n}\n","import * as firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA2rkbRxQOHRUU9NQOnfYj7lLKh7bHUSt0\",\r\n  authDomain: \"apteka2020-60723.firebaseapp.com\",\r\n  databaseURL: \"https://apteka2020-60723.firebaseio.com\",\r\n  projectId: \"apteka2020-60723\",\r\n  storageBucket: \"apteka2020-60723.appspot.com\",\r\n  messagingSenderId: \"331571938254\",\r\n  appId: \"1:331571938254:web:aaf5576e6fec2e6f0be19f\",\r\n  measurementId: \"G-7PS552MT0N\"\r\n};\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n\r\n export default class Firebase{\r\n\r\n//=====КАССЫ=====\r\n GetTodaysRate = (funcOK) => {\r\n  firebase.database().ref('kassa/current').once('value').then((snapshot) =>  {\r\n  \r\n    funcOK(snapshot.val().Plan)\r\n\r\n //  if ((new Date().getDate()+'.'+(new Date().getMonth()+1) === snapshot.val().Date) || new Date().getHours() < 10)\r\n //  funcOK(snapshot.val().Plan)\r\n //  else{\r\n //   if (new Date().getDate() === 1){\r\n //     ///////////////////////////////////////\r\n //   }\r\n //   else{\r\n //   firebase.database().ref('kassa/current').update(\r\n //     {\r\n //     Left: (snapshot.val().Left - snapshot.val().Todays),\r\n //     Date: new Date().getDate()+'.'+(new Date().getMonth()+1),\r\n //     Plan: Math.ceil(((snapshot.val().Left - snapshot.val().Todays)/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1))),\r\n //     Todays: 0\r\n //     })\r\n //     funcOK(snapshot.val().Plan)\r\n //   }\r\n //  }   \r\n })\r\n}\r\n\r\n UpdateRates = (data) => {\r\n  firebase.database().ref('kassa/current').once('value').then((snapshot) =>  {\r\n   firebase.database().ref('kassa/current').update(\r\n     {\r\n      Left: (snapshot.val().Left - data),\r\n      Date: new Date().getDate()+'.'+(new Date().getMonth()+1),\r\n      Plan: Math.ceil(((snapshot.val().Left - data)/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1))),\r\n      Todays: data,\r\n      UpdateDate: new Date().getDate()+'.'+(new Date().getMonth()+1)+' '+ new Date().toLocaleTimeString()\r\n     },function(error) {\r\n      if (error) {\r\n            alert('Ошибка')\r\n      }else {\r\n        alert('Данные отправлены')\r\n      }\r\n})\r\n})\r\n }\r\n\r\n//=====ТОВАРЫ=====\r\n  GetCurrentAmount = (funcOK) =>{\r\n    firebase.database().ref('products/').once('value').then((snapshot) =>{\r\n\r\n      funcOK(snapshot.val().current.need)\r\n\r\n      /*if ((new Date().getDate()+'.'+(new Date().getMonth()+1) === snapshot.val().current.Date))\r\n      funcOK(snapshot.val().current.need)\r\n      else{\r\n\r\n        firebase.database().ref('products/current').update(\r\n          {\r\n            Date: (new Date().getDate()+'.'+(new Date().getMonth()+1))\r\n          }\r\n        )\r\n\r\n        if (new Date().getDate() === 1){\r\n          Object.keys(snapshot.val().current.need).map(key => {\r\n            //\r\n            firebase.database().ref('products/month/'+ (new Date().getMonth())).update(\r\n              {\r\n                [key]: (snapshot.val().month[new Date().getMonth()-1][key] - snapshot.val().current.left[key])\r\n              }\r\n            )\r\n            //\r\n            firebase.database().ref('products/current/left').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().month[new Date().getMonth()][key] - snapshot.val().current.left[key])*1.3))\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/sold').update(\r\n              {\r\n                [key]: 0\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/need').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().month[new Date().getMonth()][key] - snapshot.val().current.left[key])/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1)))\r\n              }\r\n            )\r\n          })\r\n        }\r\n        else{\r\n          Object.keys(snapshot.val().current.need).map(key => {\r\n            firebase.database().ref('products/current/left').update(\r\n              {\r\n                [key]: (snapshot.val().current.left[key] - snapshot.val().current.sold[key])\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/sold').update(\r\n              {\r\n                [key]: 0\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/need').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().current.left[key] - snapshot.val().current.sold[key])/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1)))\r\n              }\r\n            )\r\n          })\r\n      }\r\n        funcOK(snapshot.val().current.need)\r\n      }*/\r\n      })\r\n  }\r\n\r\n  UpdateNewMonth = (key) => {\r\n    //обновление на первое число нового месяца\r\n  }\r\n\r\n  UpdateNewData = (data) => {\r\n    //обновление на новый день\r\n    firebase.database().ref('products/current').update(\r\n      {\r\n        UpdateDate: new Date().getDate()+'.'+(new Date().getMonth()+1)+' '+ new Date().toLocaleTimeString()\r\n      },function(error) {\r\n        if (error) {\r\n              alert('Ошибка')\r\n        }else {\r\n          alert('Данные отправлены')\r\n        }\r\n      }\r\n    )\r\n    firebase.database().ref('products/').once('value').then((snapshot) =>{\r\n    Object.keys(snapshot.val().current.need).map(key => {\r\n      firebase.database().ref('products/current/left').update(\r\n        {\r\n          [key]: (snapshot.val().current.left[key] - data[key])\r\n        }\r\n      )\r\n      firebase.database().ref('products/current/sold').update(\r\n        {\r\n          [key]: data[key]\r\n        }\r\n      )\r\n      firebase.database().ref('products/current/need').update(\r\n        {\r\n          [key]: Math.ceil(((snapshot.val().current.left[key] - data[key])/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1)))\r\n        }\r\n      )\r\n    })\r\n  })\r\n  }\r\n\r\n    \r\n//=====ВХОД=====\r\n    doLogIn = (login, password,funcOK,funcNOT) => {\r\n      firebase.database().ref('users/' + login).once('value').then((snapshot) => \r\n        snapshot.val()===null||password!==snapshot.val().Password ? funcNOT():funcOK() \r\n      )\r\n    }\r\n\r\n        \r\n\r\n}\r\n      \r\n    ","import React, { Component } from 'react';\nimport './products.css'\nimport { ItemRow } from '../../components/item-row/item-row'\nimport Firebase from '../../components/firebase/firebase'\n\nconst fire = new Firebase(); \n\nexport class Item extends Component {\n    state = {\n        data: undefined\n    };\n\n    funcOK = (a) =>{\n        this.setState({ data: {a}})  \n    }\n\n    componentDidMount(){\n        fire.GetCurrentAmount((a) => this.setState({ data: a}))\n        \n    }\n\n    \n    render() {\n        const data = this.state.data\n        \n        return (\n           \n            <div class=\"rates_block\">\n                <div class=\"rates_main_text\">Товары</div>\n                <div class=\"rates_main_text_date\">План на {new Date().toLocaleDateString()}</div>\n            <div class=\"rates_data\">\n                <div class=\"addit_rates\"> \n                <form  сlass =\"new_form\" onSubmit={this.onSubmit}>\n                    {\n                        !this.state.data\n                        ?<div>Ошибка в закгрузке данных</div>\n                        :Object.keys(data).map(key => <ItemRow k={key} d={data[key]}/>)\n                        \n                    }\n                    <button class = \"sub_button\" type = \"submit\">Отправить</button>\n                </form>\n                </div>\n            </div>\n            </div>\n            \n        );\n    }\n\n    onSubmit = event => {\n        let new_data = this.state.data\n        Object.keys(new_data).map(key => new_data[key]=document.getElementById(key).value)\n        fire.UpdateNewData(new_data)\n        event.preventDefault();\n        \n    }\n\n}\n","import React from 'react';\r\nimport './signin.css'\r\nimport Firebase from '../../components/firebase/firebase'\r\n\r\n\r\nconst fire = new Firebase();\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    user_password: ''\r\n  }; \r\n\r\n\r\n\r\nexport class SignIn extends React.Component{\r\nconstructor(props){\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE,  IsError: false };\r\n}\r\n\r\nsetError = () =>{\r\n  this.setState({isError: true, username: '', user_password: ''});\r\n  document.getElementById(\"signin_basis\").style.boxShadow=\"rgba(0, 0, 0, 0.3) 0px 1px 4px, rgba(255, 0, 0, 0.8) -23px 0px 40px -23px, rgba(255, 0, 0, 0.8) 23px 0px 40px -23px, rgba(0, 0, 0, 0.1) 0px 0px 40px inset\";\r\n}\r\n\r\nerrorMsg = () => {\r\n  if (this.state.isError)\r\n  return(\r\n    <div class =\"error_msg\">\r\n     <div class=\"error_text\">Ошибка ввода</div>\r\n     <div class=\"error_text\">Неверный пользователь или пароль</div>\r\n     </div>\r\n  )\r\n}\r\n\r\n    render(){\r\n        const {\r\n            username,\r\n            user_password\r\n          } = this.state; \r\n          \r\n          const isInvalid = user_password === '' || username === '';\r\n        if (this.props.IsLogged)  {\r\n          return(\r\n            <div id = \"signin_basis\">\r\n            <div class=\"login_title\">Вы вошли</div>\r\n            </div>\r\n          )\r\n        }else{\r\n        return(\r\n        <div id = \"signin_basis\">\r\n            <div class=\"login_title\">Вход</div>\r\n            {this.errorMsg()}\r\n            <form class = \"submit_form\" onSubmit={this.onSubmit}>\r\n            <input class=\"line\" name=\"username\" value={username} onChange={this.onChange} type=\"text\" placeholder=\"Логин\" pattern=\"[A-Za-z0-9]+\"/>\r\n            <input class=\"line\"  name=\"user_password\" value={user_password} onChange={this.onChange} type=\"text\" placeholder=\"Пароль\" />\r\n            <button class = \"sub_button\" type = \"submit\">Войти</button>          \r\n        </form>\r\n        </div>\r\n        );\r\n      }\r\n    }\r\n\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n      };\r\n  \r\n      onSubmit = event => {\r\n        event.preventDefault();\r\n        const { username, user_password } = this.state;\r\n          fire.doLogIn(username,user_password,this.props.LoggedIn,this.setError);           \r\n      }   \r\n}","import React, { Component } from 'react';\nimport './convertor.css'\nimport Firebase from '../../components/firebase/firebase'\n\n\nconst fire = new Firebase(); \n  \n\n\nexport class Convertor extends Component {\n    funcOK = (a) => {\n        this.setState({data: a})\n        if (new Date().getDay() !== 6 && new Date().getDay() !== 0 && document.getElementById(\"myCheck\").checked == false) {\n        this.setState({first: (this.state.data*13/34).toFixed(1)})\n        this.setState({second: (this.state.data*12/34).toFixed(1)})\n        this.setState({third: (this.state.data*9/34).toFixed(1)})\n        }\n        else{\n        this.setState({first: (this.state.data/2).toFixed(1)})\n        this.setState({second: (this.state.data/2).toFixed(1)})\n        this.setState({third: 'Выходной/Праздник'})\n        }\n    }\n\n    componentDidMount(){\n        fire.GetTodaysRate(this.funcOK)\n        \n    }\n\n    clic = () => {\n        this.funcOK(this.state.data)\n    } \n    \n    state = {\n        //...INITIAL_STATE,\n        data: null,\n        first: null,\n        second: null,\n        third: null,\n        final: null\n    };\n\n    componentDidMount(){\n        fire.GetTodaysRate(this.funcOK)\n    }\n    \n    \n\n    render() {\n        return (\n            <div className=\"convert_page\">  \n                <div class=\"rates_main_text\">Выручка</div>  \n                <div class=\"rates_main_text\">План на {new Date().toLocaleDateString()}</div>  \n                <div class = \"convertor_box\">\n                <div class=\"rates_main_text\">Касса №1</div>  \n                    <input type=\"text\" className=\"input_box\" value={this.state.first}/>\n                    <div class=\"rates_main_text\">Касса №2</div>  \n                     <input type=\"text\" className=\"input_box\" value={this.state.second}/>\n                     <div class=\"rates_main_text\">Касса №3</div>  \n                     <input type=\"text\" className=\"input_box\" value={this.state.third}/>\n                     <div class = \"check_area\">\n                     <label for=\"myCheck\">Праздник:</label> \n                     <input type=\"checkbox\" id=\"myCheck\" onChange={this.clic}/>\n                     </div>\n                     <div class=\"rates_main_text\">Итог за день</div>  \n                     <form class = \"submit_form\" onSubmit={this.onSubmit}>\n                     <input type=\"text\" name=\"final\" className=\"input_box\" onChange={this.onChange} value={this.state.final}/>\n                     <button class = \"sub_button\" type = \"submit\">Отправить</button>\n                     </form>\n                </div>\n            </div>\n        );\n    }\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n      }\n\n    onSubmit = event => {\n        fire.UpdateRates(this.state.final)\n        event.preventDefault();\n        fire.GetTodaysRate(this.funcOK)\n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Header } from './components/header/header'\nimport { Item } from './pages/products/products'\n\nimport {SignIn} from './pages/signin/signin'\nimport {Convertor} from './pages/convertor/convertor'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\nclass App extends Component {\nconstructor(props){\n  super(props);\n  this.state={isLogged: false}\n  \n}\n\nLoggedIn = () =>{\n  this.setState({isLogged: true})\n}\n\nUnLoggedIn = ()=>{\n  this.setState({isLogged: false})\n}\n\n  render() {\n    console.log(this.state.isLogged)\n    return (\n      <Router basename=\"/apteka/build\">\n        <Header position={this.state} UnLoggedIn={this.UnLoggedIn}/>\n        {\n          this.state.isLogged\n            ?\n            <Redirect to=\"/\" />\n            :\n            null\n        }\n        <Switch>\n          <Route path=\"/signin\">\n          <SignIn LoggedIn={this.LoggedIn}/>\n          </Route>\n          <Route path=\"/kass\" >\n          {!this.state.isLogged ? <Redirect to=\"/\" /> : <Convertor />}\n          </Route>\n          <Route path=\"/item\" >\n          {!this.state.isLogged ? <Redirect to=\"/\" /> : <Item />}\n          </Route>\n          <Route path=\"/\">\n            <SignIn LoggedIn={this.LoggedIn} IsLogged = {this.state.isLogged} />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}