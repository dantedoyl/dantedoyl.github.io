{"version":3,"sources":["components/header/header.jsx","components/item-row/item-row.jsx","components/firebase/firebase.jsx","pages/products/products.jsx","pages/signin/signin.jsx","pages/convertor/convertor.jsx","App.jsx","serviceWorker.js","index.js"],"names":["Header","props","state","isLogged","this","position","class","to","onClick","UnLoggedIn","src","alt","srcset","_renderLoader","React","Component","ItemRow","k","d","type","value","id","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","GetTodaysRate","funcOK","ref","once","then","snapshot","Date","getDate","getMonth","val","getHours","Plan","update","Left","Todays","Math","ceil","getFullYear","UpdateRates","data","error","alert","GetCurrentAmount","current","Object","keys","need","map","key","month","left","sold","UpdateNewMonth","UpdateNewData","set","doLogIn","login","password","funcNOT","Password","fire","Item","undefined","a","setState","onSubmit","event","new_data","document","getElementById","preventDefault","toLocaleDateString","сlass","INITIAL_STATE","username","user_password","SignIn","setError","isError","style","boxShadow","errorMsg","onChange","target","name","LoggedIn","IsError","IsLogged","placeholder","pattern","Convertor","getDay","checked","first","toFixed","second","third","clic","final","className","for","App","console","log","basename","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.31ee2314.chunk.js","sourcesContent":["import React from 'react';\nimport './header.css'\nimport {\n    Link\n} from \"react-router-dom\";\n\nexport class Header extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={isLogged: false}\n    }\n\n    componentDidMount(){\n       \n    }\n\n    _renderLoader() {\n        if (!this.props.position.isLogged) {\n            return (\n            null\n            )\n        }\n        return (\n            <div class=\"header_buttons\">\n            <Link to='/kass'><button class = \"def_button\">Кассы</button> </Link>\n            <Link to='/item'><button class = \"def_button\">Товар</button> </Link>\n            <Link to='/'><button class = \"def_button\" onClick={this.props.UnLoggedIn}>Выход </button> </Link>\n            </div>\n        );\n    }\n\n    render (){\n    return (\n        <div class=\"header_items\">\n            <div class=\"logo\">\n            <Link to='/' ><img class = \"header_logo\" src=\"/apteka/build/logo_apt.png\" alt=\"\" srcset=\"\"/></Link>\n            </div>\n            {this._renderLoader()}\n        </div>\n    );\n}}\n","import React from 'react';\nimport './item-row.css'\n\n\n\n\nexport const ItemRow = ({k , d}) => {\n    return (\n        <div class=\"row\">\n           <div class = \"main_text_bubble\"> {k} </div>\n           <span class = \"input_block\">\n           <div class = \"text_bubble\">\n               <span>План</span>\n               <span>Итог</span>\n            </div>\n               \n            <input type=\"text\" class=\"bubble\" value ={d}/>\n            <input type=\"text\" id = {k} class=\"bubble\"/>\n        </span>\n        </div>\n        \n    );\n}\n","import * as firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA2rkbRxQOHRUU9NQOnfYj7lLKh7bHUSt0\",\r\n  authDomain: \"apteka2020-60723.firebaseapp.com\",\r\n  databaseURL: \"https://apteka2020-60723.firebaseio.com\",\r\n  projectId: \"apteka2020-60723\",\r\n  storageBucket: \"apteka2020-60723.appspot.com\",\r\n  messagingSenderId: \"331571938254\",\r\n  appId: \"1:331571938254:web:aaf5576e6fec2e6f0be19f\",\r\n  measurementId: \"G-7PS552MT0N\"\r\n};\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n\r\n export default class Firebase{\r\n\r\n//=====КАССЫ=====\r\n GetTodaysRate = (funcOK) => {\r\n  firebase.database().ref('kassa/current').once('value').then((snapshot) =>  {\r\n   if ((new Date().getDate()+'.'+(new Date().getMonth()+1) === snapshot.val().Date) || new Date().getHours() < 10)\r\n   funcOK(snapshot.val().Plan)\r\n   else{\r\n    if (new Date().getDate() === 1){\r\n      ///////////////////////////////////////\r\n    }\r\n    else{\r\n    firebase.database().ref('kassa/current').update(\r\n      {\r\n      Left: (snapshot.val().Left - snapshot.val().Todays),\r\n      Date: new Date().getDate()+'.'+(new Date().getMonth()+1),\r\n      Plan: Math.ceil(((snapshot.val().Left - snapshot.val().Todays)/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1))),\r\n      Todays: 0\r\n      })\r\n      funcOK(snapshot.val().Plan)\r\n    }\r\n   }   \r\n })\r\n}\r\n\r\n UpdateRates = (data) => {\r\n   firebase.database().ref('kassa/current').update(\r\n     {\r\n     Todays: data\r\n     },function(error) {\r\n      if (error) {\r\n            alert('Ошибка')\r\n      }else {\r\n        alert('Данные отправлены')\r\n      }\r\n})\r\n   \r\n }\r\n\r\n//=====ТОВАРЫ=====\r\n  GetCurrentAmount = (funcOK) =>{\r\n    firebase.database().ref('products/').once('value').then((snapshot) =>{\r\n      if ((new Date().getDate()+'.'+(new Date().getMonth()+1) === snapshot.val().current.Date) || new Date().getHours() < 10)\r\n      funcOK(snapshot.val().current.need)\r\n      else{\r\n\r\n        firebase.database().ref('products/current').update(\r\n          {\r\n            Date: (new Date().getDate()+'.'+(new Date().getMonth()+1))\r\n          }\r\n        )\r\n\r\n        if (new Date().getDate() === 1){\r\n          Object.keys(snapshot.val().current.need).map(key => {\r\n            firebase.database().ref('products/month/'+ (new Date().getMonth())).update(\r\n              {\r\n                [key]: (snapshot.val().month[new Date().getMonth()][key] - snapshot.val().current.left[key])\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/left').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().month[new Date().getMonth()][key] - snapshot.val().current.left[key])*1.3))\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/sold').update(\r\n              {\r\n                [key]: 0\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/need').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().month[new Date().getMonth()][key] - snapshot.val().current.left[key])/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1)))\r\n              }\r\n            )\r\n          })\r\n        }\r\n        else{\r\n          Object.keys(snapshot.val().current.need).map(key => {\r\n            firebase.database().ref('products/current/left').update(\r\n              {\r\n                [key]: (snapshot.val().current.left[key] - snapshot.val().current.sold[key])\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/sold').update(\r\n              {\r\n                [key]: 0\r\n              }\r\n            )\r\n            firebase.database().ref('products/current/need').update(\r\n              {\r\n                [key]: Math.ceil(((snapshot.val().current.left[key] - snapshot.val().current.sold[key])/((32 - new Date(new Date().getFullYear(), new Date().getMonth(), 32).getDate())-new Date().getDate() + 1)))\r\n              }\r\n            )\r\n          })\r\n      }\r\n        funcOK(snapshot.val().current.need)\r\n      }\r\n      })\r\n  }\r\n\r\n  UpdateNewMonth = (key) => {\r\n    //обновление на первое число нового месяца\r\n  }\r\n\r\n  UpdateNewData = (key) => {\r\n    //обновление на новый день\r\n    firebase.database().ref('products/current/sold').set(key,function(error) {\r\n      if (error) {\r\n            alert('Ошибка')\r\n      }else {\r\n        alert('Данные отправлены')\r\n      }\r\n    })\r\n  }\r\n\r\n    \r\n//=====ВХОД=====\r\n    doLogIn = (login, password,funcOK,funcNOT) => {\r\n      firebase.database().ref('users/' + login).once('value').then((snapshot) => \r\n        snapshot.val()===null||password!==snapshot.val().Password ? funcNOT():funcOK() \r\n      )\r\n    }\r\n\r\n        \r\n\r\n}\r\n      \r\n    ","import React, { Component } from 'react';\nimport './products.css'\nimport { ItemRow } from '../../components/item-row/item-row'\nimport Firebase from '../../components/firebase/firebase'\n\nconst fire = new Firebase(); \n\nexport class Item extends Component {\n    state = {\n        data: undefined\n    };\n\n    funcOK = (a) =>{\n        this.setState({ data: {a}})  \n    }\n\n    componentDidMount(){\n        fire.GetCurrentAmount((a) => this.setState({ data: a}))\n        \n    }\n\n    \n    render() {\n        const data = this.state.data\n        \n        return (\n           \n            <div class=\"rates_block\">\n                <div class=\"rates_main_text\">Товары</div>\n                <div class=\"rates_main_text_date\">План на {new Date().toLocaleDateString()}</div>\n            <div class=\"rates_data\">\n                <div class=\"addit_rates\"> \n                <form  сlass =\"new_form\" onSubmit={this.onSubmit}>\n                    {\n                        !this.state.data\n                        ?<div>Ошибка в закгрузке данных</div>\n                        :Object.keys(data).map(key => <ItemRow k={key} d={data[key]}/>)\n                        \n                    }\n                    <button class = \"sub_button\" type = \"submit\">Отправить</button>\n                </form>\n                </div>\n            </div>\n            </div>\n            \n        );\n    }\n\n    onSubmit = event => {\n        let new_data = this.state.data\n        Object.keys(new_data).map(key => new_data[key]=document.getElementById(key).value)\n        fire.UpdateNewData(new_data)\n        event.preventDefault();\n        \n    }\n\n}\n","import React from 'react';\r\nimport './signin.css'\r\nimport Firebase from '../../components/firebase/firebase'\r\n\r\n\r\nconst fire = new Firebase();\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    user_password: ''\r\n  }; \r\n\r\n\r\n\r\nexport class SignIn extends React.Component{\r\nconstructor(props){\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE,  IsError: false };\r\n}\r\n\r\nsetError = () =>{\r\n  this.setState({isError: true, username: '', user_password: ''});\r\n  document.getElementById(\"signin_basis\").style.boxShadow=\"rgba(0, 0, 0, 0.3) 0px 1px 4px, rgba(255, 0, 0, 0.8) -23px 0px 40px -23px, rgba(255, 0, 0, 0.8) 23px 0px 40px -23px, rgba(0, 0, 0, 0.1) 0px 0px 40px inset\";\r\n}\r\n\r\nerrorMsg = () => {\r\n  if (this.state.isError)\r\n  return(\r\n    <div class =\"error_msg\">\r\n     <div class=\"error_text\">Ошибка ввода</div>\r\n     <div class=\"error_text\">Неверный пользователь или пароль</div>\r\n     </div>\r\n  )\r\n}\r\n\r\n    render(){\r\n        const {\r\n            username,\r\n            user_password\r\n          } = this.state; \r\n          \r\n          const isInvalid = user_password === '' || username === '';\r\n        if (this.props.IsLogged)  {\r\n          return(\r\n            <div id = \"signin_basis\">\r\n            <div class=\"login_title\">Вы вошли</div>\r\n            </div>\r\n          )\r\n        }else{\r\n        return(\r\n        <div id = \"signin_basis\">\r\n            <div class=\"login_title\">Вход</div>\r\n            {this.errorMsg()}\r\n            <form class = \"submit_form\" onSubmit={this.onSubmit}>\r\n            <input class=\"line\" name=\"username\" value={username} onChange={this.onChange} type=\"text\" placeholder=\"Логин\" pattern=\"[A-Za-z0-9]+\"/>\r\n            <input class=\"line\"  name=\"user_password\" value={user_password} onChange={this.onChange} type=\"text\" placeholder=\"Пароль\" />\r\n            <button class = \"sub_button\" type = \"submit\">Войти</button>          \r\n        </form>\r\n        </div>\r\n        );\r\n      }\r\n    }\r\n\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n      };\r\n  \r\n      onSubmit = event => {\r\n        event.preventDefault();\r\n        const { username, user_password } = this.state;\r\n          fire.doLogIn(username,user_password,this.props.LoggedIn,this.setError);           \r\n      }   \r\n}","import React, { Component } from 'react';\nimport './convertor.css'\nimport Firebase from '../../components/firebase/firebase'\n\n\nconst fire = new Firebase(); \n  \n\n\nexport class Convertor extends Component {\n    funcOK = (a) => {\n        this.setState({data: a})\n        if (new Date().getDay() !== 6 && new Date().getDay() !== 0 && document.getElementById(\"myCheck\").checked == false) {\n        this.setState({first: (this.state.data*13/34).toFixed(1)})\n        this.setState({second: (this.state.data*12/34).toFixed(1)})\n        this.setState({third: (this.state.data*9/34).toFixed(1)})\n        }\n        else{\n        this.setState({first: (this.state.data/2).toFixed(1)})\n        this.setState({second: (this.state.data/2).toFixed(1)})\n        this.setState({third: 'Выходной/Праздник'})\n        }\n    }\n\n    componentDidMount(){\n        fire.GetTodaysRate(this.funcOK)\n        \n    }\n\n    clic = () => {\n        this.funcOK(this.state.data)\n    } \n    \n    state = {\n        //...INITIAL_STATE,\n        data: null,\n        first: null,\n        second: null,\n        third: null,\n        final: null\n    };\n\n    componentDidMount(){\n        fire.GetTodaysRate(this.funcOK)\n    }\n    \n    \n\n    render() {\n        return (\n            <div className=\"convert_page\">  \n                <div class=\"rates_main_text\">Выручка</div>  \n                <div class=\"rates_main_text\">План на {new Date().toLocaleDateString()}</div>  \n                <div class = \"convertor_box\">\n                <div class=\"rates_main_text\">Касса №1</div>  \n                    <input type=\"text\" className=\"input_box\" value={this.state.first}/>\n                    <div class=\"rates_main_text\">Касса №2</div>  \n                     <input type=\"text\" className=\"input_box\" value={this.state.second}/>\n                     <div class=\"rates_main_text\">Касса №3</div>  \n                     <input type=\"text\" className=\"input_box\" value={this.state.third}/>\n                     <div class = \"check_area\">\n                     <label for=\"myCheck\">Праздник:</label> \n                     <input type=\"checkbox\" id=\"myCheck\" onChange={this.clic}/>\n                     </div>\n                     <div class=\"rates_main_text\">Итог за день</div>  \n                     <form class = \"submit_form\" onSubmit={this.onSubmit}>\n                     <input type=\"text\" name=\"final\" className=\"input_box\" onChange={this.onChange} value={this.state.final}/>\n                     <button class = \"sub_button\" type = \"submit\">Отправить</button>\n                     </form>\n                </div>\n            </div>\n        );\n    }\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n      }\n\n    onSubmit = event => {\n        fire.UpdateRates(this.state.final)\n        event.preventDefault();\n        \n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Header } from './components/header/header'\nimport { Item } from './pages/products/products'\n\nimport {SignIn} from './pages/signin/signin'\nimport {Convertor} from './pages/convertor/convertor'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\nclass App extends Component {\nconstructor(props){\n  super(props);\n  this.state={isLogged: false}\n  \n}\n\nLoggedIn = () =>{\n  this.setState({isLogged: true})\n}\n\nUnLoggedIn = ()=>{\n  this.setState({isLogged: false})\n}\n\n  render() {\n    console.log(this.state.isLogged)\n    return (\n      <Router basename=\"/apteka/build\">\n        <Header position={this.state} UnLoggedIn={this.UnLoggedIn}/>\n        {\n          this.state.isLogged\n            ?\n            <Redirect to=\"/\" />\n            :\n            null\n        }\n        <Switch>\n          <Route path=\"/signin\">\n          <SignIn LoggedIn={this.LoggedIn}/>\n          </Route>\n          <Route path=\"/kass\" >\n          {!this.state.isLogged ? <Redirect to=\"/\" /> : <Convertor />}\n          </Route>\n          <Route path=\"/item\" >\n          {!this.state.isLogged ? <Redirect to=\"/\" /> : <Item />}\n          </Route>\n          <Route path=\"/\">\n            <SignIn LoggedIn={this.LoggedIn} IsLogged = {this.state.isLogged} />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}