(this.webpackJsonpdz=this.webpackJsonpdz||[]).push([[0],{30:function(e,t,a){e.exports=a(62)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),o=(a(35),a(10)),l=a(12),i=a(14),u=a(13),d=(a(36),a(37),a(17)),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLogged:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"_renderLoader",value:function(){return this.props.position.isLogged?r.a.createElement("div",{class:"header_buttons"},r.a.createElement(d.b,{to:"/kass"},r.a.createElement("button",{class:"def_button"},"\u041a\u0430\u0441\u0441\u044b")," "),r.a.createElement(d.b,{to:"/item"},r.a.createElement("button",{class:"def_button"},"\u0422\u043e\u0432\u0430\u0440")," "),r.a.createElement(d.b,{to:"/"},r.a.createElement("button",{class:"def_button",onClick:this.props.UnLoggedIn},"\u0412\u044b\u0445\u043e\u0434 ")," ")):null}},{key:"render",value:function(){return r.a.createElement("div",{class:"header_items"},r.a.createElement("div",{class:"logo"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{class:"header_logo",src:"/apteka/build/logo_apt.png",alt:"",srcset:""}))),this._renderLoader())}}]),a}(r.a.Component),p=(a(42),a(43),function(e){var t=e.k,a=e.d;return r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"main_text_bubble"}," ",t," "),r.a.createElement("span",{class:"input_block"},r.a.createElement("div",{class:"text_bubble"},r.a.createElement("span",null,"\u041f\u043b\u0430\u043d"),r.a.createElement("span",null,"\u0418\u0442\u043e\u0433")),r.a.createElement("input",{type:"text",class:"bubble",value:a}),r.a.createElement("input",{type:"text",id:t,class:"bubble"})))}),b=a(6),f=a(4);f.initializeApp({apiKey:"AIzaSyA2rkbRxQOHRUU9NQOnfYj7lLKh7bHUSt0",authDomain:"apteka2020-60723.firebaseapp.com",databaseURL:"https://apteka2020-60723.firebaseio.com",projectId:"apteka2020-60723",storageBucket:"apteka2020-60723.appspot.com",messagingSenderId:"331571938254",appId:"1:331571938254:web:aaf5576e6fec2e6f0be19f",measurementId:"G-7PS552MT0N"});var g=function e(){Object(o.a)(this,e),this.GetTodaysRate=function(e){f.database().ref("kassa/current").once("value").then((function(t){(new Date).getDate()+"."+((new Date).getMonth()+1)===t.val().Date||f.database().ref("kassa/current").update({Left:t.val().Left-t.val().Todays,Date:(new Date).getDate()+"."+((new Date).getMonth()+1),Plan:Math.ceil((t.val().Left-t.val().Todays)/(32-new Date((new Date).getFullYear(),(new Date).getMonth(),32).getDate()-(new Date).getDate()+1)),Todays:0}),e(t.val().Plan)}))},this.UpdateRates=function(e){f.database().ref("kassa/current").update({Todays:e},(function(e){e?alert("\u041e\u0448\u0438\u0431\u043a\u0430"):alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")}))},this.GetCurrentAmount=function(e){f.database().ref("products/").once("value").then((function(t){(new Date).getDate()+"."+((new Date).getMonth()+1)===t.val().current.Date||(f.database().ref("products/current").update({Date:(new Date).getDate()+"."+((new Date).getMonth()+1)}),1===(new Date).getDate()?Object.keys(t.val().current.need).map((function(e){f.database().ref("products/month/"+(new Date).getMonth()).update(Object(b.a)({},e,t.val().month[(new Date).getMonth()][e]-t.val().current.left[e])),f.database().ref("products/current/left").update(Object(b.a)({},e,Math.ceil(1.3*(t.val().month[(new Date).getMonth()][e]-t.val().current.left[e])))),f.database().ref("products/current/sold").update(Object(b.a)({},e,0)),f.database().ref("products/current/need").update(Object(b.a)({},e,Math.ceil((t.val().month[(new Date).getMonth()][e]-t.val().current.left[e])/(32-new Date((new Date).getFullYear(),(new Date).getMonth(),32).getDate()-(new Date).getDate()+1))))})):Object.keys(t.val().current.need).map((function(e){f.database().ref("products/current/left").update(Object(b.a)({},e,t.val().current.left[e]-t.val().current.sold[e])),f.database().ref("products/current/sold").update(Object(b.a)({},e,0)),f.database().ref("products/current/need").update(Object(b.a)({},e,Math.ceil((t.val().current.left[e]-t.val().current.sold[e])/(32-new Date((new Date).getFullYear(),(new Date).getMonth(),32).getDate()-(new Date).getDate()+1))))}))),e(t.val().current.need)}))},this.UpdateNewMonth=function(e){},this.UpdateNewData=function(e){f.database().ref("products/current/sold").set(e,(function(e){e?alert("\u041e\u0448\u0438\u0431\u043a\u0430"):alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")}))},this.doLogIn=function(e,t,a,n){f.database().ref("users/"+e).once("value").then((function(e){return null===e.val()||t!==e.val().Password?n():a()}))}},h=new g,v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:void 0},e.funcOK=function(t){e.setState({data:{a:t}})},e.onSubmit=function(t){var a=e.state.data;Object.keys(a).map((function(e){return a[e]=document.getElementById(e).value})),h.UpdateNewData(a),t.preventDefault()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.GetCurrentAmount((function(t){return e.setState({data:t})}))}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",{class:"rates_block"},r.a.createElement("div",{class:"rates_main_text"},"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement("div",{class:"rates_main_text_date"},"\u041f\u043b\u0430\u043d \u043d\u0430 ",(new Date).toLocaleDateString()),r.a.createElement("div",{class:"rates_data"},r.a.createElement("div",{class:"addit_rates"},r.a.createElement("form",{"\u0441lass":"new_form",onSubmit:this.onSubmit},this.state.data?Object.keys(e).map((function(t){return r.a.createElement(p,{k:t,d:e[t]})})):r.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0437\u0430\u043a\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),r.a.createElement("button",{class:"sub_button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}}]),a}(n.Component),E=a(25),_=(a(60),new g),D={username:"",user_password:""},w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setError=function(){n.setState({isError:!0,username:"",user_password:""}),document.getElementById("signin_basis").style.boxShadow="rgba(0, 0, 0, 0.3) 0px 1px 4px, rgba(255, 0, 0, 0.8) -23px 0px 40px -23px, rgba(255, 0, 0, 0.8) 23px 0px 40px -23px, rgba(0, 0, 0, 0.1) 0px 0px 40px inset"},n.errorMsg=function(){if(n.state.isError)return r.a.createElement("div",{class:"error_msg"},r.a.createElement("div",{class:"error_text"},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430"),r.a.createElement("div",{class:"error_text"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))},n.onChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.user_password;_.doLogIn(a,r,n.props.LoggedIn,n.setError)},n.state=Object(E.a)(Object(E.a)({},D),{},{IsError:!1}),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.user_password;return this.props.IsLogged?r.a.createElement("div",{id:"signin_basis"},r.a.createElement("div",{class:"login_title"},"\u0412\u044b \u0432\u043e\u0448\u043b\u0438")):r.a.createElement("div",{id:"signin_basis"},r.a.createElement("div",{class:"login_title"},"\u0412\u0445\u043e\u0434"),this.errorMsg(),r.a.createElement("form",{class:"submit_form",onSubmit:this.onSubmit},r.a.createElement("input",{class:"line",name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",pattern:"[A-Za-z0-9]+"}),r.a.createElement("input",{class:"line",name:"user_password",value:a,onChange:this.onChange,type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement("button",{class:"sub_button",type:"submit"},"\u0412\u043e\u0439\u0442\u0438")))}}]),a}(r.a.Component),y=(a(61),new g),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).funcOK=function(t){e.setState({data:t}),6!==(new Date).getDay()&&0!==(new Date).getDay()&&0==document.getElementById("myCheck").checked?(e.setState({first:(13*e.state.data/34).toFixed(1)}),e.setState({second:(12*e.state.data/34).toFixed(1)}),e.setState({third:(9*e.state.data/34).toFixed(1)})):(e.setState({first:(e.state.data/2).toFixed(1)}),e.setState({second:(e.state.data/2).toFixed(1)}),e.setState({third:"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439/\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a"}))},e.clic=function(){e.funcOK(e.state.data)},e.state={data:null,first:null,second:null,third:null,final:null},e.onChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){y.UpdateRates(e.state.final),t.preventDefault()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){y.GetTodaysRate(this.funcOK)}},{key:"componentDidMount",value:function(){y.GetTodaysRate(this.funcOK)}},{key:"render",value:function(){return r.a.createElement("div",{className:"convert_page"},r.a.createElement("div",{class:"rates_main_text"},"\u0412\u044b\u0440\u0443\u0447\u043a\u0430"),r.a.createElement("div",{class:"rates_main_text"},"\u041f\u043b\u0430\u043d \u043d\u0430 ",(new Date).toLocaleDateString()),r.a.createElement("div",{class:"convertor_box"},r.a.createElement("div",{class:"rates_main_text"},"\u041a\u0430\u0441\u0441\u0430 \u21161"),r.a.createElement("input",{type:"text",className:"input_box",value:this.state.first}),r.a.createElement("div",{class:"rates_main_text"},"\u041a\u0430\u0441\u0441\u0430 \u21162"),r.a.createElement("input",{type:"text",className:"input_box",value:this.state.second}),r.a.createElement("div",{class:"rates_main_text"},"\u041a\u0430\u0441\u0441\u0430 \u21163"),r.a.createElement("input",{type:"text",className:"input_box",value:this.state.third}),r.a.createElement("div",{class:"check_area"},r.a.createElement("label",{for:"myCheck"},"\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a:"),r.a.createElement("input",{type:"checkbox",id:"myCheck",onChange:this.clic})),r.a.createElement("div",{class:"rates_main_text"},"\u0418\u0442\u043e\u0433 \u0437\u0430 \u0434\u0435\u043d\u044c"),r.a.createElement("form",{class:"submit_form",onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"final",className:"input_box",onChange:this.onChange,value:this.state.final}),r.a.createElement("button",{class:"sub_button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}}]),a}(n.Component),O=a(2),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).LoggedIn=function(){n.setState({isLogged:!0})},n.UnLoggedIn=function(){n.setState({isLogged:!1})},n.state={isLogged:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return console.log(this.state.isLogged),r.a.createElement(d.a,{basename:"/apteka/build"},r.a.createElement(m,{position:this.state,UnLoggedIn:this.UnLoggedIn}),this.state.isLogged?r.a.createElement(O.a,{to:"/"}):null,r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/signin"},r.a.createElement(w,{LoggedIn:this.LoggedIn})),r.a.createElement(O.b,{path:"/kass"},this.state.isLogged?r.a.createElement(x,null):r.a.createElement(O.a,{to:"/"})),r.a.createElement(O.b,{path:"/item"},this.state.isLogged?r.a.createElement(v,null):r.a.createElement(O.a,{to:"/"})),r.a.createElement(O.b,{path:"/"},r.a.createElement(w,{LoggedIn:this.LoggedIn,IsLogged:this.state.isLogged}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.e5a84e47.chunk.js.map